[gd_scene load_steps=50 format=4 uid="uid://ljrilmlby4ja"]

[ext_resource type="Script" uid="uid://cqfrjxxnxetyo" path="res://levels/level1/level.gd" id="1_3kgyj"]
[ext_resource type="Script" uid="uid://c734ib1uo5ib7" path="res://levels/goal_checker.gd" id="2_p082w"]
[ext_resource type="Texture2D" uid="uid://dxec0tggksyai" path="res://world/tiles/classroom_floor_shadows.png" id="3_48gma"]
[ext_resource type="Texture2D" uid="uid://yjshejkly7y7" path="res://world/tiles/classroom_floor_variations.png" id="4_d2ejs"]
[ext_resource type="PackedScene" uid="uid://dvpcvhe0hdgd2" path="res://litter.tscn" id="5_3r5fn"]
[ext_resource type="Texture2D" uid="uid://ubl71jugeo0q" path="res://world/tiles/classroom_walls_door.png" id="6_f8yee"]
[ext_resource type="Texture2D" uid="uid://coqy7em15rsdy" path="res://world/objects/chair.png" id="7_uqbqg"]
[ext_resource type="Texture2D" uid="uid://c3we108cohc6h" path="res://world/objects/floorboard.png" id="8_53mv0"]
[ext_resource type="Texture2D" uid="uid://bx7xpv646bd8t" path="res://world/objects/lab computer.png" id="9_ggs65"]
[ext_resource type="Texture2D" uid="uid://d306ae6eoky1h" path="res://world/objects/paper trash.png" id="10_o1rcw"]
[ext_resource type="Texture2D" uid="uid://dh6tai3m11ltx" path="res://world/objects/water bottle.png" id="11_fa8cy"]
[ext_resource type="Texture2D" uid="uid://dgki2o31njbxn" path="res://world/objects/whiteboard.png" id="12_5bfcs"]
[ext_resource type="Script" uid="uid://bbhnfi8flndq0" path="res://puzzle/entities/robot/robot_character.gd" id="13_jpndt"]
[ext_resource type="Texture2D" uid="uid://bjk0si0ovqu72" path="res://world/characters/robot_character.png" id="14_ns7ot"]
[ext_resource type="Script" uid="uid://qlqd7ghspjwt" path="res://puzzle/entities/entity_data.gd" id="15_33juw"]
[ext_resource type="Script" uid="uid://sdvo37wqlubv" path="res://puzzle/ui/block/block_data.gd" id="16_jxxnu"]
[ext_resource type="Resource" uid="uid://itswbfm87c8y" path="res://puzzle/entities/robot/move_block.tres" id="17_85leo"]
[ext_resource type="Resource" uid="uid://beebks6855iyb" path="res://puzzle/entities/robot/can_move_block.tres" id="18_6iy8r"]
[ext_resource type="Resource" uid="uid://bxv5sdgjbqiac" path="res://puzzle/entities/robot/is_on_litter.tres" id="19_48gma"]
[ext_resource type="Resource" uid="uid://dsx5inedo8g5p" path="res://puzzle/entities/robot/pick_up_block.tres" id="20_d2ejs"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_wvt5r"]
texture = ExtResource("3_48gma")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_3brmd"]
texture = ExtResource("4_d2ejs")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
3:0/next_alternative_id = 8
3:0/0 = 0
2:0/next_alternative_id = 8
2:0/0 = 0

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_368ro"]
resource_name = "litter scene"
scenes/1/scene = ExtResource("5_3r5fn")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_hn8u6"]
texture = ExtResource("6_f8yee")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_et1lo"]
texture = ExtResource("7_uqbqg")
texture_region_size = Vector2i(32, 32)
0:0/size_in_atlas = Vector2i(2, 2)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_mrvmj"]
texture = ExtResource("8_53mv0")
texture_region_size = Vector2i(32, 32)
0:0/size_in_atlas = Vector2i(7, 2)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_4pmc0"]
texture = ExtResource("9_ggs65")
texture_region_size = Vector2i(32, 32)
0:0/size_in_atlas = Vector2i(2, 2)
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ecwql"]
texture = ExtResource("10_o1rcw")
texture_region_size = Vector2i(32, 32)
0:0/next_alternative_id = 8
0:0/0 = 0
0:0/1 = 1
0:0/1/flip_h = true
0:0/2 = 2
0:0/2/flip_v = true
0:0/3 = 3
0:0/3/flip_h = true
0:0/3/flip_v = true
0:0/4 = 4
0:0/4/transpose = true
0:0/5 = 5
0:0/5/flip_h = true
0:0/5/transpose = true
0:0/6 = 6
0:0/6/flip_v = true
0:0/6/transpose = true
0:0/7 = 7
0:0/7/flip_h = true
0:0/7/flip_v = true
0:0/7/transpose = true

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_bad6n"]
texture = ExtResource("11_fa8cy")
texture_region_size = Vector2i(32, 32)
0:0/next_alternative_id = 9
0:0/0 = 0
0:0/1 = 1
0:0/1/flip_h = true
0:0/2 = 2
0:0/2/flip_v = true
0:0/3 = 3
0:0/3/flip_h = true
0:0/3/flip_v = true
0:0/4 = 4
0:0/4/transpose = true
0:0/5 = 5
0:0/5/flip_h = true
0:0/5/transpose = true
0:0/6 = 6
0:0/6/flip_v = true
0:0/6/transpose = true
0:0/7 = 7
0:0/7/flip_h = true
0:0/7/flip_v = true
0:0/7/transpose = true

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_om64g"]
texture = ExtResource("12_5bfcs")
texture_region_size = Vector2i(32, 32)
0:0/size_in_atlas = Vector2i(8, 2)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_0is3c"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_wvt5r")
sources/1 = SubResource("TileSetAtlasSource_3brmd")
sources/2 = SubResource("TileSetAtlasSource_hn8u6")
sources/3 = SubResource("TileSetAtlasSource_et1lo")
sources/4 = SubResource("TileSetAtlasSource_mrvmj")
sources/5 = SubResource("TileSetAtlasSource_4pmc0")
sources/6 = SubResource("TileSetAtlasSource_ecwql")
sources/7 = SubResource("TileSetAtlasSource_bad6n")
sources/8 = SubResource("TileSetAtlasSource_om64g")
sources/10 = SubResource("TileSetScenesCollectionSource_368ro")

[sub_resource type="AtlasTexture" id="AtlasTexture_l4fxj"]
atlas = ExtResource("14_ns7ot")
region = Rect2(0, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_deynx"]
atlas = ExtResource("14_ns7ot")
region = Rect2(32, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6chpa"]
atlas = ExtResource("14_ns7ot")
region = Rect2(64, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4oke1"]
atlas = ExtResource("14_ns7ot")
region = Rect2(96, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_a68tm"]
atlas = ExtResource("14_ns7ot")
region = Rect2(128, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_waw8j"]
atlas = ExtResource("14_ns7ot")
region = Rect2(160, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_kbmhu"]
atlas = ExtResource("14_ns7ot")
region = Rect2(192, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_nco8q"]
atlas = ExtResource("14_ns7ot")
region = Rect2(224, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ihuli"]
atlas = ExtResource("14_ns7ot")
region = Rect2(256, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qpsav"]
atlas = ExtResource("14_ns7ot")
region = Rect2(288, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_wvt5r"]
atlas = ExtResource("14_ns7ot")
region = Rect2(320, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3brmd"]
atlas = ExtResource("14_ns7ot")
region = Rect2(352, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_hn8u6"]
atlas = ExtResource("14_ns7ot")
region = Rect2(384, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_et1lo"]
atlas = ExtResource("14_ns7ot")
region = Rect2(416, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mrvmj"]
atlas = ExtResource("14_ns7ot")
region = Rect2(448, 16, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_4pmc0"]
atlas = ExtResource("14_ns7ot")
region = Rect2(480, 16, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_bad6n"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_l4fxj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_deynx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6chpa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4oke1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a68tm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_waw8j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kbmhu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nco8q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ihuli")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qpsav")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wvt5r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3brmd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hn8u6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_et1lo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mrvmj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4pmc0")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_l4fxj"]
size = Vector2(28, 28)

[node name="Level" type="Node2D" node_paths=PackedStringArray("litter_layer")]
script = ExtResource("1_3kgyj")
litter_layer = NodePath("Map/LitterLayer")

[node name="GoalChecker" type="Node" parent="."]
script = ExtResource("2_p082w")

[node name="Map" type="Node2D" parent="."]
texture_filter = 3

[node name="FloorLayer" type="TileMapLayer" parent="Map"]
tile_map_data = PackedByteArray("AAABAAEAAQABAAAAAAABAAIAAQAAAAAAAAACAAEAAQAAAAAAAAACAAIAAQAAAAAAAAD9//7/AQABAAAAAAD9////AQAAAAAAAAD9/wAAAQAAAAAAAAD9/wEAAQAAAAAAAAD9/wIAAQAAAAAAAAD+//7/AQAAAAAAAAD+////AQABAAAAAAD+/wAAAQABAAAAAAD+/wEAAQAAAAAAAAD+/wIAAQABAAAAAAD///7/AQABAAAAAAD/////AQABAAAAAAD//wAAAQABAAAAAAD//wEAAQABAAAAAAD//wIAAQABAAAAAAAAAP7/AQAAAAAAAAAAAP//AQABAAAAAAAAAAAAAQABAAAAAAAAAAEAAQABAAAAAAAAAAIAAQABAAAAAAABAP7/AQABAAAAAAABAP//AQAAAAAAAAABAAAAAQABAAAAAAACAP7/AQAAAAAAAAACAP//AQABAAAAAAACAAAAAQABAAAAAAADAP//AQABAAAAAAA=")
tile_set = SubResource("TileSet_0is3c")

[node name="WallsLayer" type="TileMapLayer" parent="Map"]
tile_map_data = PackedByteArray("AAAAAAMAAgAAAAEAAFADAP//AgADAAEAAAADAAAAAgACAAEAAAD8//z/AgAAAAAAAAD8//3/AgAAAAEAAAD8//7/AgAAAAEAAAD8////AgAAAAEAAAD8/wAAAgAAAAEAAAD8/wEAAgAAAAEAAAD8/wIAAgAAAAEAAAD8/wMAAgACAAAAADD9//z/AgABAAAAAAD9//3/AgABAAEAAAD9/wMAAgAAAAEAAFD+//z/AgABAAAAAAD+//3/AgABAAEAAAD+/wMAAgAAAAEAAFD///z/AgABAAAAAAD///3/AgABAAEAAAD//wMAAgAAAAEAAFAAAPz/AgABAAAAAAAAAP3/AgABAAEAAAABAPz/AgABAAAAAAABAP3/AgABAAEAAAABAAMAAgAAAAEAAFACAPz/AgABAAAAAAACAP3/AgABAAEAAAACAAMAAgAAAAEAAFADAPz/AgAAAAAAABADAP3/AgAAAAEAAAADAP7/AgADAAAAAAADAAEAAgAAAAEAAAADAAIAAgAAAAEAAAADAAMAAgACAAAAAFA=")
tile_set = SubResource("TileSet_0is3c")

[node name="LitterLayer" type="TileMapLayer" parent="Map"]
tile_map_data = PackedByteArray("AAD9/wAACgAAAAAAAQD//wIACgAAAAAAAQABAP7/CgAAAAAAAQD+//7/CgAAAAAAAQA=")
tile_set = SubResource("TileSet_0is3c")

[node name="Y-sort" type="Node2D" parent="."]
y_sort_enabled = true
texture_filter = 3

[node name="ObjectsLayer" type="TileMapLayer" parent="Y-sort"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAD+/wAAAwAAAAAAAAD/////AwAAAAAAAAD//wEAAwAAAAAAAAAAAP7/AwAAAAAAAAABAP//AwAAAAAAAAA=")
tile_set = SubResource("TileSet_0is3c")

[node name="RobotCharacter" type="StaticBody2D" parent="Y-sort" node_paths=PackedStringArray("sprite", "collision_shape", "area")]
y_sort_enabled = true
position = Vector2(-16.5, -48.5)
script = ExtResource("13_jpndt")
sprite = NodePath("AnimatedSprite2D")
collision_shape = NodePath("CollisionShape2D")
area = NodePath("Area2D")
initial_transform = Transform2D(1, 0, 0, 1, -16.5, -48.5)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Y-sort/RobotCharacter"]
position = Vector2(0, -1)
sprite_frames = SubResource("SpriteFrames_bad6n")
autoplay = "default"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Y-sort/RobotCharacter"]
shape = SubResource("RectangleShape2D_l4fxj")

[node name="Area2D" type="Area2D" parent="Y-sort/RobotCharacter"]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Y-sort/RobotCharacter/Area2D"]
shape = SubResource("RectangleShape2D_l4fxj")

[node name="EntityData" type="Node" parent="Y-sort/RobotCharacter" node_paths=PackedStringArray("parent")]
script = ExtResource("15_33juw")
parent = NodePath("..")
block_data = Array[ExtResource("16_jxxnu")]([ExtResource("17_85leo"), ExtResource("18_6iy8r"), ExtResource("19_48gma"), ExtResource("20_d2ejs")])

[node name="Camera2D" type="Camera2D" parent="."]
